{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/14698/Documents/Courses/CC/RetailApp/front-end/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/14698/Documents/Courses/CC/RetailApp/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/14698/Documents/Courses/CC/RetailApp/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import PeopleOutlineSharpIcon from'@material-ui/icons/PeopleOutlineSharp';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import Link from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _require=require(\"../utils/Backend_API\"),Backend_API=_require.Backend_API;var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};});var LoginPage=function LoginPage(){var classes=useStyles();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var history=useHistory();var authenticateUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var responseFromServer,status,userData,validateUserCreds;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:validateUserCreds=function _validateUserCreds(userData){if(userData.password===password){sessionStorage.setItem(\"user_auth_token\",userName);history.push('/home');}else{alert(\"UserName does not exist or Password is incorrect\");}};event.preventDefault();//console.log(\"here\");\n_context.next=4;return fetch(Backend_API+\"authenticateUser/\",{headers:{\"Content-Type\":\"application/json\"},method:\"post\",body:JSON.stringify({userName:userName,password:password})});case 4:responseFromServer=_context.sent;status=responseFromServer.status;if(!(status===200)){_context.next=13;break;}_context.next=9;return responseFromServer.json(responseFromServer);case 9:userData=_context.sent;validateUserCreds(userData);_context.next=14;break;case 13:alert(\"An Error Occured!\");case 14:case\"end\":return _context.stop();}}},_callee);}));return function authenticateUser(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(PeopleOutlineSharpIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Team 23 - Three Musketeers\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:function onSubmit(e){return authenticateUser(e);},noValidate:true,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"userName\",label:\"Username\",name:\"username\",autoFocus:true,onChange:function onChange(e){return setUserName(e.target.value);},value:userName}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,children:\"Sign In\"}),/*#__PURE__*/_jsx(Grid,{container:true,children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{href:\"/signup\",variant:\"body2\",children:\"Don't have an account? Sign Up\"})})})]})]})]});};// const LoginPage = () => {\n//   const [userName, setUserName] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n//   const history = useHistory();\n//   const authenticateUser = async (event) => {\n//     event.preventDefault();\n//     //console.log(\"here\");\n//     const responseFromServer = await fetch(Backend_API + \"authenticateUser/\", {\n//       headers: { \"Content-Type\": \"application/json\" },\n//       method: \"post\",\n//       body: JSON.stringify({ userName, password }),\n//     });\n//     let { status } = responseFromServer;\n//     if (status === 200) {\n//       const userData = await responseFromServer.json(responseFromServer);\n//       validateUserCreds(userData);\n//     } else {\n//       alert(\"An Error Occured!\");\n//     }\n//     function validateUserCreds(userData) {\n//       if (userData.password === password) {\n//         sessionStorage.setItem(\"user_auth_token\", userName);\n//         history.push('/home');\n//       } else {\n//         alert(\"UserName does not exist or Password is incorrect\");\n//       }\n//     }\n//   };\n//   return (\n//     <Container maxWidth=\"sm\">\n//     {/* <div className=\"Login\"> */}\n//     <PeopleOutlineSharpIcon />\n//       <h4>Team-29(Ceaseless)</h4>\n//       <form onSubmit={(e) => authenticateUser(e)}>\n//         <div class=\"container\">\n//           <label>Username : </label>\n//           <input\n//             type=\"text\"\n//             value={userName}\n//             placeholder=\"Enter Username\"\n//             name=\"username\"\n//             onChange={(e) => setUserName(e.target.value)}\n//             required\n//           />\n//           <label>Password : </label>\n//           <input\n//             type=\"password\"\n//             value={password}\n//             onChange={(e) => setPassword(e.target.value)}\n//             placeholder=\"Enter Password\"\n//             name=\"password\"\n//             required\n//           />\n//           <button type=\"submit\">Login</button>\n//           <br></br>\n//           <a href=\"/signup\">Click here to sign up</a>\n//         </div>\n//       </form>\n//     {/* </div> */}\n//     </Container>\n//   );\n// };\nexport default LoginPage;","map":{"version":3,"sources":["C:/Users/14698/Documents/Courses/CC/RetailApp/front-end/src/components/LoginPage.js"],"names":["React","useState","useHistory","PeopleOutlineSharpIcon","Avatar","Button","CssBaseline","TextField","Link","Grid","LockOutlinedIcon","Typography","makeStyles","Container","require","Backend_API","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","LoginPage","classes","userName","setUserName","password","setPassword","history","authenticateUser","event","validateUserCreds","userData","sessionStorage","setItem","push","alert","preventDefault","fetch","headers","method","body","JSON","stringify","responseFromServer","status","json","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport PeopleOutlineSharpIcon from '@material-ui/icons/PeopleOutlineSharp';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nconst { Backend_API } = require(\"../utils/Backend_API\");\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst LoginPage = () => {\r\n  const classes = useStyles();\r\n  const [userName, setUserName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n  const authenticateUser = async (event) => {\r\n    event.preventDefault();\r\n    //console.log(\"here\");\r\n\r\n    const responseFromServer = await fetch(Backend_API + \"authenticateUser/\", {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      method: \"post\",\r\n      body: JSON.stringify({ userName, password }),\r\n    });\r\n    let { status } = responseFromServer;\r\n    if (status === 200) {\r\n      const userData = await responseFromServer.json(responseFromServer);\r\n      validateUserCreds(userData);\r\n    } else {\r\n      alert(\"An Error Occured!\");\r\n    }\r\n    function validateUserCreds(userData) {\r\n      if (userData.password === password) {\r\n        sessionStorage.setItem(\"user_auth_token\", userName);\r\n        history.push('/home');\r\n      } else {\r\n        alert(\"UserName does not exist or Password is incorrect\");\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <PeopleOutlineSharpIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Team 23 - Three Musketeers\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={(e) => authenticateUser(e)} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"userName\"\r\n            label=\"Username\"\r\n            name=\"username\"\r\n            autoFocus\r\n            onChange={(e) => setUserName(e.target.value)}\r\n            value={userName}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            value={password}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item>\r\n              <Link href=\"/signup\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// const LoginPage = () => {\r\n//   const [userName, setUserName] = useState(\"\");\r\n//   const [password, setPassword] = useState(\"\");\r\n//   const history = useHistory();\r\n//   const authenticateUser = async (event) => {\r\n//     event.preventDefault();\r\n//     //console.log(\"here\");\r\n\r\n//     const responseFromServer = await fetch(Backend_API + \"authenticateUser/\", {\r\n//       headers: { \"Content-Type\": \"application/json\" },\r\n//       method: \"post\",\r\n//       body: JSON.stringify({ userName, password }),\r\n//     });\r\n//     let { status } = responseFromServer;\r\n//     if (status === 200) {\r\n//       const userData = await responseFromServer.json(responseFromServer);\r\n//       validateUserCreds(userData);\r\n//     } else {\r\n//       alert(\"An Error Occured!\");\r\n//     }\r\n//     function validateUserCreds(userData) {\r\n//       if (userData.password === password) {\r\n//         sessionStorage.setItem(\"user_auth_token\", userName);\r\n//         history.push('/home');\r\n//       } else {\r\n//         alert(\"UserName does not exist or Password is incorrect\");\r\n//       }\r\n//     }\r\n//   };\r\n//   return (\r\n//     <Container maxWidth=\"sm\">\r\n//     {/* <div className=\"Login\"> */}\r\n//     <PeopleOutlineSharpIcon />\r\n//       <h4>Team-29(Ceaseless)</h4>\r\n//       <form onSubmit={(e) => authenticateUser(e)}>\r\n//         <div class=\"container\">\r\n//           <label>Username : </label>\r\n\r\n//           <input\r\n//             type=\"text\"\r\n//             value={userName}\r\n//             placeholder=\"Enter Username\"\r\n//             name=\"username\"\r\n//             onChange={(e) => setUserName(e.target.value)}\r\n//             required\r\n//           />\r\n\r\n//           <label>Password : </label>\r\n\r\n//           <input\r\n//             type=\"password\"\r\n//             value={password}\r\n//             onChange={(e) => setPassword(e.target.value)}\r\n//             placeholder=\"Enter Password\"\r\n//             name=\"password\"\r\n//             required\r\n//           />\r\n\r\n//           <button type=\"submit\">Login</button>\r\n//           <br></br>\r\n//           <a href=\"/signup\">Click here to sign up</a>\r\n//         </div>\r\n//       </form>\r\n//     {/* </div> */}\r\n//     </Container>\r\n//   );\r\n// };\r\n\r\nexport default LoginPage;\r\n"]},"metadata":{},"sourceType":"module"}