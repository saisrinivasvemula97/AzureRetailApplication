(this["webpackJsonpcloud-final"]=this["webpackJsonpcloud-final"]||[]).push([[0],{105:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(11),c=n.n(s),i=n(71),l=n(13),o=n(28),d=n(15),j=n.n(d),u=n(25),b=n(16),h=n(68),O=n.n(h),m=n(151),x=n(150),p=n(146),f=n(149),g=n(148),v=n(147),y=n(110),S=n(141),N=n(144),E=n(2),C=n(48).Backend_API,A=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),T=function(){var e=A(),t=Object(a.useState)(""),n=Object(b.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(""),i=Object(b.a)(c,2),o=i[0],d=i[1],h=Object(l.g)(),S=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){e.password===o?(sessionStorage.setItem("user_auth_token",r),h.push("/home")):alert("UserName does not exist or Password is incorrect")},t.preventDefault(),e.next=4,fetch(C+"authenticateUser/",{headers:{"Content-Type":"application/json"},method:"post",body:JSON.stringify({userName:r,password:o})});case 4:if(n=e.sent,200!==n.status){e.next=13;break}return e.next=9,n.json(n);case 9:a=e.sent,s(a),e.next=14;break;case 13:alert("An Error Occured!");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(N.a,{component:"main",maxWidth:"xs",children:[Object(E.jsx)(p.a,{}),Object(E.jsxs)("div",{className:e.paper,children:[Object(E.jsx)(m.a,{className:e.avatar,children:Object(E.jsx)(O.a,{})}),Object(E.jsx)(y.a,{component:"h1",variant:"h5",children:"Team 23 - Three Musketeers"}),Object(E.jsxs)("form",{className:e.form,onSubmit:function(e){return S(e)},noValidate:!0,children:[Object(E.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"userName",label:"Username",name:"username",autoFocus:!0,onChange:function(e){return s(e.target.value)},value:r}),Object(E.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){return d(e.target.value)},value:o}),Object(E.jsx)(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"}),Object(E.jsx)(v.a,{container:!0,children:Object(E.jsx)(v.a,{item:!0,children:Object(E.jsx)(g.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]})},D=n(46),k=n(72),I=n(69),w=n(48).Backend_API,F=function(e){var t=Object(a.useState)(""),n=Object(b.a)(t,2),r=n[0],s=n[1],c=sessionStorage.getItem("user_auth_token"),i=Object(a.useState)([]),l=Object(b.a)(i,2),o=l[0],d=l[1],h=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,a,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){return o[document.getElementById("dataSetName").value]},t.preventDefault(),r){e.next=5;break}return alert("Enter an household number"),e.abrupt("return");case 5:return a=n(),e.next=8,fetch(w+"fetchData/",{headers:{"Content-Type":"application/json"},method:"post",body:JSON.stringify({houseHoldNumber:r,selectedDataSet:a,userName:c})});case 8:if(s=e.sent,200!==s.status){e.next=17;break}return e.next=13,s.json(s);case 13:(i=e.sent)&&O(i),e.next=18;break;case 17:alert("An Error Occured!");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){function t(e){var t=document.getElementById("tableHeader"),n=document.createElement("tr");for(var a in e){var r=document.createElement("th"),s=document.createTextNode(a);r.appendChild(s),n.appendChild(r)}t.appendChild(n)}function n(e){var t=document.getElementById("tableBody"),n=document.createElement("tr");for(var a in e){var r=document.createElement("td"),s=e[a],c=document.createTextNode(s);r.appendChild(c),t.appendChild(r)}t.appendChild(n)}!function(){var t=document.getElementById("messageDisplayArea");0===e.length?(t.style.display="block",t.innerHTML="HouseHold Number does not exist!"):t.style.display="none"}(),function(){var e=document.getElementById("tableHeader"),t=document.getElementById("tableBody");e.querySelectorAll("*").forEach((function(e){return e.remove()})),t.querySelectorAll("*").forEach((function(e){return e.remove()}))}(),function(){e.length>1?t(e[0]):t(e);var a,r=Object(I.a)(e);try{for(r.s();!(a=r.n()).done;){n(a.value)}}catch(s){r.e(s)}finally{r.f()}}()};return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w+"fetchDataSetNames",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({userName:c})});case 2:if(t=e.sent,200!==t.status){e.next=10;break}return e.next=7,t.json(t);case 7:n=e.sent,a=n.dataSetNames,d(a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{id:"mainContainer",style:{textAlign:"center",width:"50%",margin:"50px auto"},children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{htmlFor:"sel1",children:"Pick a DataSet:"}),Object(E.jsx)("select",{id:"dataSetName",className:"form-control m-2",children:o.map((function(e,t){return Object(E.jsx)("option",{value:t,children:e},e)}))})]}),Object(E.jsxs)("form",{onSubmit:h,style:{border:"none",marginLeft:"10px"},children:[Object(E.jsx)("input",{type:"search",placeholder:"Enter HSHD_NUM here..",value:r,onChange:function(e){return s(e.target.value)},className:"form-control bg-light mb-4"}),Object(E.jsx)("button",{class:"btn btn-outline-warning my-2 my-sm-0",children:"Search"})]}),Object(E.jsx)("div",{id:"messageDisplayArea",children:Object(E.jsx)("br",{})})]}),Object(E.jsxs)("table",{id:"houseHoldDetails",style:{fontSize:"11px"},className:"table-primary table table-sm table-dark",children:[Object(E.jsx)("thead",{id:"tableHeader",className:"table",style:{color:"#ffc107"}}),Object(E.jsx)("tbody",{id:"tableBody"})]})]})},P=n(42),R=function(){return[Object(E.jsx)("div",{children:Object(E.jsx)(P.a,{width:"900px",height:"500px",chartType:"ComboChart",loader:Object(E.jsx)("div",{children:"Loading Chart"}),data:[["Year","Nonfood","Food","Pharma"],["2018",4757.03,23750.28,667.55],["2019",12165.59,61774.39,1844.11],["2020",7586.89,39134.08,1248.04]],options:{title:"Yearly Expenditure on Various Categories",vAxis:{title:"Dollars"},hAxis:{title:"Year"},seriesType:"bars",series:{3:{type:"line"}}}})}),Object(E.jsx)("div",{children:Object(E.jsx)(P.a,{width:"900px",height:"500px",chartType:"ComboChart",loader:Object(E.jsx)("div",{children:"Loading Chart"}),data:[["Year","Central","East","South","West"],["2018",37789,51013,42231,46294],["2019",98078,134975,109771,117011],["2020",65218,83293,67313,69022]],options:{title:"Customer Demographic-Wise Transactions for the years 2018,19 and 20",vAxis:{title:"Dollars"},hAxis:{title:"Year"},seriesType:"bars",series:{4:{type:"line"}}}})})]},B=function(){return[Object(E.jsx)("div",{children:Object(E.jsx)(P.a,{chartType:"PieChart",loader:Object(E.jsx)("div",{children:"Loading Chart"}),data:[["Commodities","Expenditure"],["PET",1207.47],["DAIRY",5622.79],["ALCOHOL",3269.31],["PRODUCE",6039.84],["SEAFOOD",1348.32],["HOUSEHOLD",4809.53],["MEDICATION",1796.14],["PERSONAL CARE",2661.55],["GROCERY STAPLE",15377.71],["SPECIALTY FOOD",428.22],["BEVERAGE - WATER",1182.38],["TOBACCO PRODUCTS",806.83],["INTERNATIONAL FOOD",1025.55],["BEVERAGE - NON WATER",4051.68],["BABY",818.63],["FROZEN FOOD",5254.52],["IN STORE FOOD SERVICE",1464.17],["BAKERY",2912.02],["FLORAL",740.66],["DRY GOODS",1081.04],["CANNED GOODS",1134.58],["DELI",1904.34],["MEAT - PORK",910.96],["GIFT",385.68],["HOLIDAY",91.25],["MEAT - OTHER",1485.02],["MEAT - BEEF",3275.4],["MEAT - CHICKEN",2320.26],["CLOTHING",309.13],["MISC",187.95],["MEAT - SAUSAGE",624.91],["OUTDOOR",223.41],["BULK PRODUCTS",241.72],["COSMETICS",172.81],["MEAT - POULTRY",101.26],["TOYS",46.12],["SEASONAL PRODUCTS",68.74],["AUTO",30.64],["MEAT - TURKEY",260.14],["ELECTRONICS",40.96],["ACTIVITY",22.48],["MEDICAL SUPPLIES",47.97]],options:{title:"Commodities in Year 2019",width:600,height:600}})}),Object(E.jsx)("div",{children:Object(E.jsx)(P.a,{chartType:"PieChart",loader:Object(E.jsx)("div",{children:"Loading Chart"}),data:[["Region","Spend"],["West",1347560.33],["East",1513313.6],["Central",1277791.82],["South",1205535.49]],options:{title:"Total Demographic-Wise Spend During 2018-20 in Dollars($)",width:600,height:600}})})]},L=function(){return Object(E.jsxs)("div",{children:[Object(E.jsxs)("table",{border:"2",style:{margin:"15px"},children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{style:{padding:"5px",textAlign:"center"},children:"Total Dollars spend by customer over three years"}),Object(E.jsx)("th",{style:{padding:"5px",textAlign:"center"},children:"Average Spend per transaction for household over three years"}),Object(E.jsx)("th",{style:{padding:"5px",textAlign:"center"},children:"Total Number of transactions from 2018 -2020"}),Object(E.jsx)("th",{style:{padding:"5px",textAlign:"center"},children:"Region wise highest Spend"}),Object(E.jsx)("th",{style:{padding:"5px",textAlign:"center"},children:"Highest spent by customers in a year"})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{style:{textAlign:"center"},children:"5344201.24"}),Object(E.jsx)("td",{style:{textAlign:"center"},children:"5.796 dollars"}),Object(E.jsx)("td",{style:{textAlign:"center"},children:"922012"}),Object(E.jsx)("td",{style:{textAlign:"center"},children:"East"}),Object(E.jsx)("td",{style:{textAlign:"center"},children:"Year 2019 - $2572864.42"})]})]}),Object(E.jsx)("table",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsx)(R,{})}),Object(E.jsx)("td",{children:Object(E.jsx)(B,{})})]})})]})},U=(n(105),n(48).Backend_API),H=function(e){var t=Object(a.useState)(""),n=Object(b.a)(t,2),r=n[0],s=n[1],c=sessionStorage.getItem("user_auth_token"),i=Object(a.useState)([]),o=Object(b.a)(i,2),d=o[0],h=o[1],O=Object(a.useState)(!1),m=Object(b.a)(O,2),x=m[0],p=m[1],f=Object(l.g)(),g=function(){var e=Object(u.a)(j.a.mark((function e(t){var n,a,s,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!d.includes(r)){e.next=4;break}return alert("A data-set with that name exists!"),e.abrupt("return");case 4:if(n=document.getElementById("transactionsFile").files,a=document.getElementById("productsFile").files,s=document.getElementById("householdsFile").files,(i=new FormData).append("csvFiles",n[0]),i.append("csvFiles",a[0]),i.append("csvFiles",s[0]),!c||!r){e.next=20;break}return p(!0),e.next=15,fetch(U+"csvupload/".concat(c,"/").concat(r),{method:"POST",body:i});case 15:l=e.sent,200===l.status&&(p(!1),console.log("Files inserted succesfully"),f.push("/home/page1")),e.next=23;break;case 20:p(!1),console.log("user Name invalid"),alert("An error occured");case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(U+"fetchDataSetNames",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({userName:c})});case 2:if(t=e.sent,200!==t.status){e.next=10;break}return e.next=7,t.json(t);case 7:n=e.sent,a=n.dataSetNames,h(a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(E.jsx)("div",{id:"mainContainer",children:Object(E.jsxs)("form",{onSubmit:function(e){return g(e)},encType:"multipart/form-data",children:[Object(E.jsxs)("div",{className:"mb-3",children:[Object(E.jsx)("div",{className:"form-group",children:Object(E.jsx)("input",{type:"text",value:r,onChange:function(e){return s(e.target.value)},className:"form-control","aria-describedby":"emailHelp",placeholder:"Enter Dataset Name",required:!0})}),Object(E.jsxs)("table",{style:{width:"30%",margin:"50px auto"},children:[Object(E.jsx)("thead",{style:{textAlign:"left"},children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Transactions"}),Object(E.jsx)("th",{children:"Products"}),Object(E.jsx)("th",{children:"HouseHolds"})]})}),Object(E.jsx)("tbody",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsx)("input",{type:"file",id:"transactionsFile",name:"csvFiles",accept:".csv",required:!0})}),Object(E.jsx)("td",{children:Object(E.jsx)("input",{type:"file",id:"productsFile",name:"csvFiles",accept:".csv",required:!0})}),Object(E.jsx)("td",{children:Object(E.jsx)("input",{type:"file",id:"householdsFile",name:"csvFiles",accept:".csv",required:!0})})]})})]})]}),x&&Object(E.jsx)("div",{children:Object(E.jsx)("p",{children:"Uploading data.."})}),Object(E.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})},_=function(e){var t,n=null!==(t=sessionStorage.getItem("user_auth_token"))&&void 0!==t?t:"",a=Object(l.g)();return Object(E.jsx)(o.a,{children:Object(E.jsxs)("div",{children:[Object(E.jsxs)(D.a,{bg:"dark",sticky:"top",variant:"dark",children:[Object(E.jsxs)(D.a.Brand,{children:["Hey ",n,"!"]}),Object(E.jsx)(D.a.Brand,{className:"justify-content-center",style:{paddingLeft:"500px"},children:"Azure Retail Web Application"}),Object(E.jsx)(D.a.Collapse,{className:"justify-content-end",children:Object(E.jsx)(k.a,{variant:"outline-info",size:"sm",active:!0,onClick:function(){sessionStorage.removeItem("user_auth_token"),a.push("/login")},children:Object(E.jsx)("strong",{children:"Sign OFF"})})})]}),Object(E.jsx)("div",{id:"pagesContainer",className:"d-flex justify-content-center",children:Object(E.jsx)("table",{children:Object(E.jsxs)("thead",{children:[Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("tr",{children:Object(E.jsx)("th",{style:{color:"#17a2b8"},children:"Please select from the options below:"})}),Object(E.jsx)("br",{}),Object(E.jsx)("tr",{children:Object(E.jsx)("th",{children:Object(E.jsx)("a",{className:"btn btn-dark btn-lg btn-block",href:"/home/page1",children:"Data Pulls"})})}),Object(E.jsx)("br",{}),Object(E.jsx)("tr",{children:Object(E.jsx)("th",{children:Object(E.jsx)("a",{className:"btn btn-dark btn-lg btn-block",href:"/home/page2",children:"Dashboards"})})}),Object(E.jsx)("br",{}),Object(E.jsx)("tr",{children:Object(E.jsx)("th",{children:Object(E.jsx)("a",{className:"btn btn-dark btn-lg btn-block",href:"/home/page4",children:"Upload DataSet"})})})]})})}),Object(E.jsx)("br",{}),Object(E.jsxs)(l.d,{children:[Object(E.jsx)(l.b,{exact:!0,path:"/home/page1",children:Object(E.jsx)(F,{userName:e.user_name})}),Object(E.jsx)(l.b,{exact:!0,path:"/home/page2",children:Object(E.jsx)(L,{})}),Object(E.jsx)(l.b,{exact:!0,path:"/home/page4",children:Object(E.jsx)(H,{userName:e.user_name})})]})]})})},W=(n(106),n(58)),Y=n.n(W),M=n(48).Backend_API,q=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),G=function(){var e=q(),t=Object(a.useState)(""),n=Object(b.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(""),i=Object(b.a)(c,2),o=i[0],d=i[1],h=Object(a.useState)(""),O=Object(b.a)(h,2),S=O[0],C=O[1],A=Object(a.useState)(""),T=Object(b.a)(A,2),D=T[0],k=T[1],I=Object(a.useState)(""),w=Object(b.a)(I,2),F=w[0],P=w[1],R=Object(l.g)(),B=function(){var e=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch(M+"newuser/",{headers:{"Content-Type":"application/json"},method:"post",body:JSON.stringify({userName:r,password:o,email:S,firstName:D,lastName:F})});case 3:if(n=e.sent,200!==n.status){e.next=12;break}return e.next=8,n.json(n);case 8:e.sent.userExists?alert("User Name already in use"):R.push("/login"),e.next=13;break;case 12:alert("An Error Occured!");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(N.a,{component:"main",maxWidth:"xs",children:[Object(E.jsx)(p.a,{}),Object(E.jsxs)("div",{className:e.paper,children:[Object(E.jsx)(m.a,{className:e.avatar,children:Object(E.jsx)(Y.a,{})}),Object(E.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(E.jsxs)("form",{className:e.form,onSubmit:B,children:[Object(E.jsxs)(v.a,{container:!0,spacing:2,children:[Object(E.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(E.jsx)(f.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return k(e.target.value)},value:D})}),Object(E.jsx)(v.a,{item:!0,xs:12,sm:6,children:Object(E.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){return P(e.target.value)},value:F})}),Object(E.jsx)(v.a,{item:!0,xs:12,children:Object(E.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"userName",label:"Username",name:"userName",autoComplete:"uname",onChange:function(e){return s(e.target.value)},value:r})}),Object(E.jsx)(v.a,{item:!0,xs:12,children:Object(E.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return C(e.target.value)},value:S})}),Object(E.jsx)(v.a,{item:!0,xs:12,children:Object(E.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return d(e.target.value)},value:o})})]}),Object(E.jsx)(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign Up"}),Object(E.jsx)(v.a,{container:!0,justifyContent:"flex-end",children:Object(E.jsx)(v.a,{item:!0,children:Object(E.jsx)(g.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})},J=(n(107),function(){return Object(E.jsx)(o.a,{children:Object(E.jsxs)(l.d,{children:[Object(E.jsx)(l.b,{exact:!0,path:"/",children:function(e){var t=sessionStorage.getItem("user_auth_token");return t?Object(E.jsx)(e,{user_name:t}):Object(E.jsx)(l.a,{to:"/login"})}(_)}),Object(E.jsx)(l.b,{path:"/login",children:Object(E.jsx)(T,{})}),Object(E.jsx)(l.b,{path:"/signup",children:Object(E.jsx)(G,{})}),Object(E.jsx)(l.b,{exact:!0,path:"/home",render:function(e){return Object(E.jsx)(_,Object(i.a)({},e))}}),Object(E.jsx)(l.b,{path:"/home/*",children:Object(E.jsx)(_,{})})]})})});c.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(J,{})}),document.getElementById("root"))},48:function(e,t,n){n(92).config();e.exports={Backend_API:"https://azureretailwebapp.azurewebsites.net/"}}},[[108,1,2]]]);
//# sourceMappingURL=main.bf224b87.chunk.js.map